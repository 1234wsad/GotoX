# GotoX
* GotoX 修改自 goagent，可用于访问被***防火墙***屏蔽的网络服务。
* 其特色，一是自动代理，可支持任意标准 HTTP/1.1 请求；二是可根据需要修改来自客户端的请求以及服务器的响应。
* 主要使用 GAE 服务作为后端代理，也支持任意 HTTP/SOCKS4/SOCKS5 代理，两者处于同等地位。SOCKS 代理支持认证。
* 运行时会一直维护一个较小但快速的 GAE IP 列表。

# 使用
* 具体配置说明，在配置文件中都有较为详细的描述。
* 需事先提供（其它扫描工具）一个较大的可用 GAE IP 列表以供筛选，放入“**data/ip.txt**”中，格式为每行一个完整 IP。现在的内容是作者正在使用的 IP。
* 现提供两个端口。
    * 自动代理端口需自行配置规则，可根据需要自动分配链接路径，推荐使用（开发动力之一）；
    * 要使用自动代理请先仔细阅读配置规则说明，由于未添加完全的检测，错误规则可能导致程序出错或非预期的代理结果；
    * GAE 端口完全使用 GAE 代理，只有当遇到不支持的方法时转用直连，如果此网络资源处于屏蔽状态链接会失败。
* 配置 GAE 路径为“***/_gh/*** ”可使用 goagent 3.2.X 及 goproxy 服务端，“***/2***  ”使用 goagent 3.1.X 服务端。
* 新手部署服务端请下载 [goproxy 服务端](https://github.com/phuslu/goproxy/tree/server.gae)，在 VPN 等代理条件下上传，或者去 [XX-net 配置](https://github.com/XX-net/XX-Net/blob/master/code/default/gae_proxy/local/proxy.ini) 中取用公共 APPID。
    * **相关链接**
    * 简易教程 https://github.com/phuslu/goproxy/blob/wiki/SimpleGuide.md
    * 常见问题 https://github.com/phuslu/goproxy/blob/wiki/FAQ.md
* 成功运行后会创建独一无二的 CA 证书，证书名称为：“**GotoX CA**”。配置好代理后，按照提示在浏览器中输入 CA 证书地址 “**http://gotox.net/ca**” 可安装到浏览器或下载后导入系统，也可在“**cert**”文件夹找到“**CA.crt**”证书文件。由于还不完善，暂时不打算启用自动导入和删除功能，如有需求请手动删除老旧证书。
    * **相关链接**
    * 手动导入证书 https://github.com/XX-net/XX-Net/wiki/GoAgent-Import-CA

# 兼容性
* python 2.7/3.4 已测试
* 必须组件：
    * gevent 1.1.2 
    * pyOpenSSL 16.0.0 及以上
    * dnslib 0.9.6 及以上
* 发布暂时只会提供 cpython 2.7.12 版本。
* 由于自己只使用 windows，所以其它系统不保证能正常使用。如果有需求作者会尽量修改，但这需要有人帮助测试反馈。

# 计划
* 请求和响应的修改还未完成，短期内将会加入。
* 前置代理代码还未整理，暂时不提供此功能。请使用转发到后端代理（不通过 GAE）。
* 不会提供对 HTTP/2 的直接支持，对我个人来说带来的改善无法与付出对等，代码不是我的本行。其部分特性可用多 IP、多 appid 以及 keep-alive 的组合来替代，主要损失的是头部的压缩支持，其次某些情况下延迟更大些，尤其是对应 IP 稀少或只有 1 个 IP 时。**仅在服务器支持 HTTP/2 时对比。**
    * **GAE** 问题不大，实际的头部也会压缩。
    * **直接转发**完全等于直连，是否支持看客户端。
    * **转发代理**还要看代理服务器是否支持。
    * 其余的就完全不支持了。
